<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Russisch-Sprachassistent: Aspekt-Detektiv</title>
    <style>
        :root {
            --primary: #2c3e50;
            --secondary: #3498db;
            --success: #27ae60;
            --error: #e74c3c;
            --bg: #f4f7f6;
            --white: #ffffff;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            font-style: normal !important;
            background-color: var(--bg);
            color: var(--primary);
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
        }

        .container {
            width: 100%;
            max-width: 900px;
            background: var(--white);
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        h1 { text-align: center; color: var(--primary); margin-bottom: 10px; }
        .subtitle { text-align: center; color: var(--secondary); margin-bottom: 30px; font-weight: bold; }

        .intro {
            background: #eef6fc;
            padding: 20px;
            border-left: 5px solid var(--secondary);
            border-radius: 8px;
            margin-bottom: 30px;
        }

        .task-card {
            background: #fff;
            border: 1px solid #eee;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            transition: all 0.3s;
        }

        .context-info {
            font-size: 0.9rem;
            color: #666;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .sentence-box {
            font-size: 1.2rem;
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            padding: 10px;
            background: #fdfdfd;
            border-radius: 8px;
            line-height: 1.8;
        }

        .word {
            padding: 2px 6px;
            border-radius: 4px;
            cursor: pointer;
            transition: background 0.2s, color 0.2s;
            font-style: normal !important;
            border: 1px solid transparent;
        }

        .word:hover { background: #f0f0f0; border-color: #ddd; }

        /* Status-Farben */
        .word.correct-find { background-color: var(--success); color: white; border-color: var(--success); } /* Das falsche Wort wurde gefunden */
        .word.wrong-click { background-color: var(--error); color: white; border-color: var(--error); } /* Ein richtiges Wort wurde f√§lschlich angeklickt */

        .correction-span {
            color: var(--success);
            font-weight: bold;
            margin-left: 10px;
            font-size: 1rem;
            display: none;
        }

        .btn-group {
            margin-top: 15px;
            display: flex;
            gap: 10px;
        }

        .btn {
            padding: 8px 15px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            color: white;
            font-size: 0.85rem;
        }

        .btn-reset { background-color: #95a5a6; }
        .btn-solve { background-color: var(--secondary); }

        @media (max-width: 600px) {
            .container { padding: 15px; }
            .sentence-box { font-size: 1.1rem; }
        }

        /* Kyrillische Schrift explizit sch√ºtzen */
        span, div, button { font-style: normal !important; }
    </style>
</head>
<body>

<div class="container">
    <h1>Aspekt-Detektiv üîç</h1>
    <div class="subtitle">Finde den Fehler im Imperativ!</div>

    <div class="intro">
        <strong>Anleitung:</strong> In jedem Satz gibt es einen Fehler beim Gebrauch von NSV oder SV. 
        Klicke auf das <b>falsche Wort</b>. Wenn du richtig liegst, wird es gr√ºn markiert und die Korrektur erscheint.
    </div>

    <div id="tasks-root"></div>

</div>

<script>
    const taskData = [
        { emoji: "üçé", context: "Signalwort 'Immer' (Wiederholung)", sentence: ["–í—Å–µ–≥–¥–∞", "–∫—É–ø–∏", "—Ö–ª–µ–±", "–∑–¥–µ—Å—å."], errorIdx: 1, correctWord: "–ø–æ–∫—É–ø–∞–π" },
        { emoji: "üö´", context: "Allgemeines Verbot (–Ω–µ + NSV)", sentence: ["–ù–µ", "–∑–∞–±—É–¥—å", "–Ω–∞—Å", "–≤", "–ì–µ—Ä–º–∞–Ω–∏–∏!"], errorIdx: 1, correctWord: "–∑–∞–±—ã–≤–∞–π" },
        { emoji: "‚ö†Ô∏è", context: "Warnung (—Å–º–æ—Ç—Ä–∏ –Ω–µ + SV)", sentence: ["–°–º–æ—Ç—Ä–∏", "–Ω–µ", "–∑–∞–±—ã–≤–∞–π", "–∫–ª—é—á–∏", "–¥–æ–º–∞."], errorIdx: 2, correctWord: "–∑–∞–±—É–¥—å" },
        { emoji: "üö∂", context: "Einladung zum Eintreten (NSV)", sentence: ["–í–æ–π–¥–∏—Ç–µ", "–ø–æ–∂–∞–ª—É–π—Å—Ç–∞,", "—Å–∞–¥–∏—Ç–µ—Å—å!"], errorIdx: 0, correctWord: "–í—Ö–æ–¥–∏—Ç–µ" },
        { emoji: "üè†", context: "Warnung vor dem √ñffnen (SV)", sentence: ["–°–º–æ—Ç—Ä–∏", "–Ω–µ", "–æ—Ç–∫—Ä—ã–≤–∞–π", "—ç—Ç—É", "–¥–≤–µ—Ä—å!"], errorIdx: 2, correctWord: "–æ—Ç–∫—Ä–æ–π" },
        { emoji: "üìû", context: "Regelm√§√üige Handlung (NSV)", sentence: ["–ü–æ–∑–≤–æ–Ω–∏", "–º–Ω–µ", "—á–∞—Å—Ç–æ,", "—è", "–∂–¥—É."], errorIdx: 0, correctWord: "–ó–≤–æ–Ω–∏" },
        { emoji: "üö´", context: "Striktes Verbot (NSV)", sentence: ["–ù–∏–∫–æ–≥–¥–∞", "–Ω–µ", "—Å–¥–µ–ª–∞–π", "—ç—Ç–æ–≥–æ!"], errorIdx: 2, correctWord: "–¥–µ–ª–∞–π" },
        { emoji: "üç™", context: "Einladung zum Bedienen (NSV)", sentence: ["–í–æ–∑—å–º–∏—Ç–µ", "–ø–µ—á–µ–Ω—å–µ,", "—É–≥–æ—â–∞–π—Ç–µ—Å—å!"], errorIdx: 0, correctWord: "–ë–µ—Ä–∏—Ç–µ" },
        { emoji: "üìÖ", context: "Gewohnheit (NSV)", sentence: ["–ö–∞–∂–¥—ã–π", "–¥–µ–Ω—å", "–≤—ã–º–æ–π", "–ø–æ—Å—É–¥—É."], errorIdx: 2, correctWord: "–º–æ–π" },
        { emoji: "üìñ", context: "Prozess/Dauer (NSV)", sentence: ["–¢—ã", "–¥–æ–ª–≥–æ", "–ø—Ä–æ—á–∏—Ç–∞–π", "—ç—Ç—É", "–∫–Ω–∏–≥—É."], errorIdx: 2, correctWord: "—á–∏—Ç–∞–π" },
        { emoji: "üèôÔ∏è", context: "Wunsch nach Wiederholung (NSV)", sentence: ["–ü—Ä–∏–µ–¥—å", "–∫", "–Ω–∞–º", "—á–∞—â–µ!"], errorIdx: 0, correctWord: "–ü—Ä–∏–µ–∑–∂–∞–π" },
        { emoji: "‚ö†Ô∏è", context: "Warnung vor Versp√§tung (SV)", sentence: ["–°–º–æ—Ç—Ä–∏", "–Ω–µ", "–æ–ø–∞–∑–¥—ã–≤–∞–π", "–Ω–∞", "—É—Ä–æ–∫!"], errorIdx: 2, correctWord: "–æ–ø–æ–∑–¥–∞–π" },
        { emoji: "üö´", context: "Allgemeines Verbot (NSV)", sentence: ["–ù–µ", "–ø–æ–∫—É—Ä–∏", "–≤", "—ç—Ç–æ–º", "–∑–¥–∞–Ω–∏–∏."], errorIdx: 1, correctWord: "–∫—É—Ä–∏" },
        { emoji: "üö™", context: "Konkrete Bitte (SV)", sentence: ["–û—Ç–∫—Ä—ã–≤–∞–π", "–¥–≤–µ—Ä—å,", "—è", "–ø—Ä–∏—à—ë–ª."], errorIdx: 0, correctWord: "–û—Ç–∫—Ä–æ–π" },
        { emoji: "‚úçÔ∏è", context: "Allgemeiner Rat (NSV)", sentence: ["–ù–∞–ø–∏—à–∏", "—Å–ª–æ–≤–∞", "–≤", "—Ç–µ—Ç—Ä–∞–¥—å", "–≤—Å–µ–≥–¥–∞."], errorIdx: 0, correctWord: "–ü–∏—à–∏" },
        { emoji: "ü•§", context: "Warnung (SV)", sentence: ["–°–º–æ—Ç—Ä–∏", "–Ω–µ", "–ø—Ä–æ–ª–∏–≤–∞–π", "–≤–æ–¥—É!"], errorIdx: 2, correctWord: "–ø—Ä–æ–ª–µ–π" },
        { emoji: "üêï", context: "Strenges Kommando (Infinitiv n√∂tig)", sentence: ["–°–∏–¥–∏", "–∏", "–∂–¥–∏", "–∑–¥–µ—Å—å!"], errorIdx: 0, correctWord: "–°–∏–¥–µ—Ç—å" },
        { emoji: "üõë", context: "Verbot (NSV)", sentence: ["–ù–µ", "–æ—Ç–∫—Ä–æ–π", "–æ–∫–Ω–æ,", "–º–Ω–µ", "—Ö–æ–ª–æ–¥–Ω–æ."], errorIdx: 1, correctWord: "–æ—Ç–∫—Ä—ã–≤–∞–π" },
        { emoji: "üìù", context: "Einmaliges Ergebnis (SV)", sentence: ["–ó–∞–ø–∏—Å—ã–≤–∞–π", "–º–æ–π", "–Ω–æ–º–µ—Ä", "—Ç–µ–ª–µ—Ñ–æ–Ω–∞."], errorIdx: 0, correctWord: "–ó–∞–ø–∏—à–∏" },
        { emoji: "‚ö†Ô∏è", context: "Warnung vor Verlust (SV)", sentence: ["–°–º–æ—Ç—Ä–∏", "–Ω–µ", "—Ç–µ—Ä—è–π", "–ø–∞—Å–ø–æ—Ä—Ç!"], errorIdx: 2, correctWord: "–ø–æ—Ç–µ—Ä—è–π" }
    ];

    function renderTasks() {
        const root = document.getElementById('tasks-root');
        taskData.forEach((task, tIdx) => {
            const card = document.createElement('div');
            card.className = 'task-card';
            card.id = `task-${tIdx}`;

            card.innerHTML = `
                <div class="context-info">${task.emoji} <b>Kontext:</b> ${task.context}</div>
                <div class="sentence-box">
                    ${task.sentence.map((word, wIdx) => `
                        <span class="word" onclick="handleWordClick(${tIdx}, ${wIdx})">${word}</span>
                    `).join('')}
                    <span class="correction-span" id="corr-${tIdx}"> ‚Üí ${task.correctWord} ‚úÖ</span>
                </div>
                <div class="btn-group">
                    <button class="btn btn-reset" onclick="resetTask(${tIdx})">Zur√ºcksetzen</button>
                    <button class="btn btn-solve" onclick="solveTask(${tIdx})">L√∂sung</button>
                </div>
            `;
            root.appendChild(card);
        });
    }

    function handleWordClick(tIdx, wIdx) {
        const card = document.getElementById(`task-${tIdx}`);
        const words = card.querySelectorAll('.word');
        const correction = document.getElementById(`corr-${tIdx}`);
        
        if (wIdx === taskData[tIdx].errorIdx) {
            // Richtig gefunden!
            words[wIdx].classList.add('correct-find');
            words[wIdx].classList.remove('wrong-click');
            correction.style.display = 'inline';
        } else {
            // Falsches Wort angeklickt
            words[wIdx].classList.add('wrong-click');
        }
    }

    function solveTask(tIdx) {
        const card = document.getElementById(`task-${tIdx}`);
        const words = card.querySelectorAll('.word');
        const errIdx = taskData[tIdx].errorIdx;
        const correction = document.getElementById(`corr-${tIdx}`);

        words.forEach(w => w.classList.remove('wrong-click', 'correct-find'));
        words[errIdx].classList.add('correct-find');
        correction.style.display = 'inline';
    }

    function resetTask(tIdx) {
        const card = document.getElementById(`task-${tIdx}`);
        const words = card.querySelectorAll('.word');
        const correction = document.getElementById(`corr-${tIdx}`);

        words.forEach(w => w.classList.remove('wrong-click', 'correct-find'));
        correction.style.display = 'none';
    }

    window.onload = renderTasks;
</script>

</body>
</html>