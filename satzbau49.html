<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Russisch-Sprachassistent: Satz-Baukasten</title>
    <style>
        :root {
            --primary: #2c3e50;
            --secondary: #3498db;
            --success: #27ae60;
            --error: #e74c3c;
            --bg: #f4f7f6;
            --white: #ffffff;
            --magnet-bg: #ecf0f1;
        }

        body {
            font-family: 'Segoe UI', Arial, sans-serif;
            font-style: normal !important;
            background-color: var(--bg);
            color: var(--primary);
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
        }

        .main-container {
            width: 100%;
            max-width: 900px;
            background: var(--white);
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
        }

        h1 { text-align: center; border-bottom: 3px solid var(--secondary); padding-bottom: 10px; }
        
        .instruction {
            background: #eef6fc;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 30px;
            font-size: 0.95rem;
        }

        .exercise-block {
            background: #fff;
            border: 1px solid #ddd;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 40px;
        }

        .task-header {
            font-weight: bold;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
            color: var(--primary);
        }

        /* Satz-Baufl√§che */
        .sentence-dropzone {
            min-height: 50px;
            border-bottom: 2px solid var(--secondary);
            margin-bottom: 15px;
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            padding: 10px;
            background: #fdfdfd;
            border-radius: 8px 8px 0 0;
            transition: background-color 0.3s;
        }

        .sentence-dropzone.correct { background-color: #d4edda; border-color: var(--success); }
        .sentence-dropzone.incorrect { background-color: #f8d7da; border-color: var(--error); }

        /* Magnete */
        .word-pool {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            padding: 10px;
        }

        .magnet {
            background: var(--magnet-bg);
            border: 1px solid #bdc3c7;
            padding: 8px 15px;
            border-radius: 6px;
            cursor: pointer;
            user-select: none;
            transition: all 0.2s;
            font-weight: 500;
            font-style: normal !important;
        }

        .magnet:hover { background: #dce3e6; transform: translateY(-2px); }
        .magnet.used { opacity: 0.3; cursor: default; pointer-events: none; }

        .btn-group {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        .btn {
            padding: 10px 18px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: bold;
            color: white;
            font-size: 0.9rem;
        }

        .btn-reset { background-color: #95a5a6; }
        .btn-solve { background-color: var(--secondary); }

        @media (max-width: 600px) {
            .main-container { padding: 15px; }
            .magnet { padding: 6px 10px; font-size: 0.9rem; }
        }

        span, div, button { font-style: normal !important; }
    </style>
</head>
<body>

<div class="main-container">
    <h1>Russisch: Satz-Baukasten üèóÔ∏è</h1>
    
    <div class="instruction">
        <strong>Anleitung:</strong> Klicke auf die W√∂rter, um den russischen Satz zu bilden. <br>
        Der Satz wird sofort √ºberpr√ºft, wenn er vollst√§ndig ist. Klicke auf ein Wort im oberen Feld, um es wieder zu entfernen.
    </div>

    <div id="exercises-root"></div>

</div>

<script>
    const tasks = [
        { emoji: "üôè", text: "Bitte um Verzeihung (NSV)", correct: ["–ò–∑–≤–∏–Ω–∏—Ç–µ", "–º–µ–Ω—è,", "–ø–æ–∂–∞–ª—É–π—Å—Ç–∞!"], pool: ["–ø–æ–∂–∞–ª—É–π—Å—Ç–∞!", "–ò–∑–≤–∏–Ω–∏—Ç–µ", "–º–µ–Ω—è,"] },
        { emoji: "üîë", text: "Warnung vor Versehen (SV)", correct: ["–°–º–æ—Ç—Ä–∏", "–Ω–µ", "–∑–∞–±—É–¥—å", "–∫–ª—é—á–∏."], pool: ["–∑–∞–±—É–¥—å", "–Ω–µ", "–∫–ª—é—á–∏.", "–°–º–ætri"] },
        { emoji: "üö™", text: "H√∂fliche Einladung (NSV)", correct: ["–í—Ö–æ–¥–∏—Ç–µ,", "–ø–æ–∂–∞–ª—É–π—Å—Ç–∞,", "–∏", "—Å–∞–¥–∏—Ç–µ—Å—å."], pool: ["—Å–∞–¥–∏—Ç–µ—Å—å.", "–í—Ö–æ–¥–∏—Ç–µ,", "–∏", "–ø–æ–∂–∞–ª—É–π—Å—Ç–∞,"] },
        { emoji: "üìû", text: "Konkrete Bitte (SV)", correct: ["–ü–æ–∑–≤–æ–Ω–∏", "–º–Ω–µ", "–∑–∞–≤—Ç—Ä–∞", "—É—Ç—Ä–æ–º."], pool: ["–∑–∞–≤—Ç—Ä–∞", "–ü–æ–∑–≤–æ–Ω–∏", "—É—Ç—Ä–æ–º.", "–º–Ω–µ"] },
        { emoji: "üö´", text: "Verbot (NSV)", correct: ["–ù–µ", "–æ—Ç–∫—Ä—ã–≤–∞–π", "—ç—Ç–æ", "–æ–∫–Ω–æ."], pool: ["–æ–∫–Ω–æ.", "–æ—Ç–∫—Ä—ã–≤–∞–π", "–ù–µ", "—ç—Ç–æ"] },
        { emoji: "‚ö†Ô∏è", text: "Warnung vor Sturz (SV)", correct: ["–°–º–æ—Ç—Ä–∏", "–Ω–µ", "—É–ø–∞–¥–∏", "–∑–¥–µ—Å—å!"], pool: ["–∑–¥–µ—Å—å!", "–°–º–æ—Ç—Ä–∏", "—É–ø–∞–¥–∏", "–Ω–µ"] },
        { emoji: "üìö", text: "Allgemeiner Ratschlag (NSV)", correct: ["–ß–∏—Ç–∞–π", "–∫–Ω–∏–≥–∏", "–∫–∞–∂–¥—ã–π", "–¥–µ–Ω—å."], pool: ["–¥–µ–Ω—å.", "–∫–Ω–∏–≥–∏", "–ß–∏—Ç–∞–π", "–∫–∞–∂–¥—ã–π"] },
        { emoji: "üëú", text: "Bitte um Hilfe (SV)", correct: ["–ü–æ–º–æ–≥–∏", "–º–Ω–µ", "—Å", "—ç—Ç–æ–π", "—Å—É–º–∫–æ–π."], pool: ["—Å—É–º–∫–æ–π.", "–ü–æ–º–æ–≥–∏", "—Å", "–º–Ω–µ", "—ç—Ç–æ–π"] },
        { emoji: "üí¨", text: "Gewohnheit (NSV)", correct: ["–í—Å–µ–≥–¥–∞", "–≥–æ–≤–æ—Ä–∏", "—Ç–æ–ª—å–∫–æ", "–ø—Ä–∞–≤–¥—É."], pool: ["—Ç–æ–ª—å–∫–æ", "–í—Å–µ–≥–¥–∞", "–ø—Ä–∞–≤–¥—É.", "–≥–æ–≤–æ—Ä–∏"] },
        { emoji: "üçû", text: "Verbot beim Einkaufen (NSV)", correct: ["–ù–µ", "–ø–æ–∫—É–ø–∞–π", "—ç—Ç–æ—Ç", "—Ö–ª–µ–±."], pool: ["—Ö–ª–µ–±.", "–ø–æ–∫—É–ø–∞–π", "–ù–µ", "—ç—Ç–æ—Ç"] },
        { emoji: "üßÇ", text: "Bitte am Tisch (SV)", correct: ["–ü–µ—Ä–µ–¥–∞–π", "–º–Ω–µ", "—Å–æ–ª—å,", "–ø–æ–∂–∞–ª—É–π—Å—Ç–∞."], pool: ["–ø–æ–∂–∞–ª—É–π—Å—Ç–∞.", "—Å–æ–ª—å,", "–ü–µ—Ä–µ–¥–∞–π", "–º–Ω–µ"] },
        { emoji: "ü•õ", text: "Erledigung (SV)", correct: ["–ö—É–ø–∏", "–º–æ–ª–æ–∫–æ", "–∏", "—Å—ã—Ä."], pool: ["–∏", "–º–æ–ª–æ–∫–æ", "–ö—É–ø–∏", "—Å—ã—Ä."] },
        { emoji: "‚åö", text: "Warnung vor Versp√§tung (SV)", correct: ["–°–º–æ—Ç—Ä–∏", "–Ω–µ", "–æ–ø–æ–∑–¥–∞–π", "—Å–µ–≥–æ–¥–Ω—è."], pool: ["–Ω–µ", "—Å–µ–≥–æ–¥–Ω—è.", "–°–º–æ—Ç—Ä–∏", "–æ–ø–æ–∑–¥–∞–π"] },
        { emoji: "üè´", text: "Allgemeines Verbot (NSV)", correct: ["–ù–µ", "–æ–ø–∞–∑–¥—ã–≤–∞–π", "–Ω–∞", "—É—Ä–æ–∫–∏."], pool: ["—É—Ä–æ–∫–∏.", "–Ω–∞", "–æ–ø–∞–∑–¥—ã–≤–∞–π", "–ù–µ"] },
        { emoji: "‚úçÔ∏è", text: "Wunsch nach Wiederholung (NSV)", correct: ["–ü–∏—à–∏", "–º–Ω–µ", "—á–∞—â–µ,", "–ø–æ–∂–∞–ª—É–π—Å—Ç–∞."], pool: ["—á–∞—â–µ,", "–ü–∏—à–∏", "–ø–æ–∂–∞–ª—É–π—Å—Ç–∞.", "–º–Ω–µ"] },
        { emoji: "üè†", text: "Aufforderung (SV)", correct: ["–û—Ç–∫—Ä–æ–π", "–¥–≤–µ—Ä—å,", "—ç—Ç–æ", "—è."], pool: ["—ç—Ç–æ", "—è.", "–¥–≤–µ—Ä—å,", "–û—Ç–∫—Ä–æ–π"] },
        { emoji: "ü•£", text: "Verbot (NSV)", correct: ["–ù–µ", "–µ—à—å", "—Ö–æ–ª–æ–¥–Ω—ã–π", "—Å—É–ø."], pool: ["—Å—É–ø.", "–µ—à—å", "—Ö–æ–ª–æ–¥–Ω—ã–π", "–ù–µ"] },
        { emoji: "üìç", text: "Einmalige Bitte (SV)", correct: ["–°–∫–∞–∂–∏", "–º–Ω–µ", "—Å–≤–æ–π", "–∞–¥—Ä–µ—Å."], pool: ["–∞–¥—Ä–µ—Å.", "–º–Ω–µ", "—Å–≤–æ–π", "–°–∫–∞–∂–∏"] },
        { emoji: "ü™ë", text: "Einladung zum Setzen (NSV)", correct: ["–°–∞–¥–∏—Å—å", "–Ω–∞", "—ç—Ç–æ—Ç", "—Å—Ç—É–ª."], pool: ["—Å—Ç—É–ª.", "–°–∞–¥–∏—Å—å", "—ç—Ç–æ—Ç", "–Ω–∞"] },
        { emoji: "üêï", text: "Strenges Kommando (Infinitiv)", correct: ["–°–∏–¥–µ—Ç—å", "–∏", "–∂–¥–∞—Ç—å", "—Ç—É—Ç!"], pool: ["–∂–¥–∞—Ç—å", "–∏", "—Ç—É—Ç!", "–°–∏–¥–µ—Ç—å"] }
    ];

    function shuffle(array) {
        return array.sort(() => Math.random() - 0.5);
    }

    function renderTasks() {
        const root = document.getElementById('exercises-root');
        tasks.forEach((task, idx) => {
            const block = document.createElement('div');
            block.className = 'exercise-block';
            block.id = `block-${idx}`;

            block.innerHTML = `
                <div class="task-header"><span>${task.emoji}</span> Aufgabe ${idx + 1}: ${task.text}</div>
                <div class="sentence-dropzone" id="zone-${idx}"></div>
                <div class="word-pool" id="pool-${idx}">
                    ${shuffle([...task.pool]).map((word, wIdx) => `
                        <span class="magnet" onclick="addToSentence(${idx}, '${word.replace(/'/g, "\\'")}', this)">${word}</span>
                    `).join('')}
                </div>
                <div class="btn-group">
                    <button class="btn btn-reset" onclick="resetTask(${idx})">Zur√ºcksetzen</button>
                    <button class="btn btn-solve" onclick="showSolution(${idx})">L√∂sung zeigen</button>
                </div>
            `;
            root.appendChild(block);
        });
    }

    function addToSentence(idx, word, element) {
        const zone = document.getElementById(`zone-${idx}`);
        if (element.classList.contains('used')) return;

        const magnet = document.createElement('span');
        magnet.className = 'magnet';
        magnet.innerText = word;
        magnet.onclick = function() {
            zone.removeChild(magnet);
            element.classList.remove('used');
            checkSentence(idx);
        };

        zone.appendChild(magnet);
        element.classList.add('used');
        checkSentence(idx);
    }

    function checkSentence(idx) {
        const zone = document.getElementById(`zone-${idx}`);
        const currentWords = Array.from(zone.querySelectorAll('.magnet')).map(m => m.innerText);
        const correctWords = tasks[idx].correct;

        zone.classList.remove('correct', 'incorrect');

        if (currentWords.length === correctWords.length) {
            const isCorrect = currentWords.every((w, i) => w === correctWords[i]);
            zone.classList.add(isCorrect ? 'correct' : 'incorrect');
        }
    }

    function resetTask(idx) {
        const zone = document.getElementById(`zone-${idx}`);
        zone.innerHTML = "";
        zone.classList.remove('correct', 'incorrect');
        const pool = document.getElementById(`pool-${idx}`);
        pool.querySelectorAll('.magnet').forEach(m => m.classList.remove('used'));
    }

    function showSolution(idx) {
        resetTask(idx);
        const zone = document.getElementById(`zone-${idx}`);
        const pool = document.getElementById(`pool-${idx}`);
        const correctWords = tasks[idx].correct;

        correctWords.forEach(word => {
            const magnet = document.createElement('span');
            magnet.className = 'magnet';
            magnet.innerText = word;
            zone.appendChild(magnet);
        });

        pool.querySelectorAll('.magnet').forEach(m => m.classList.add('used'));
        zone.classList.add('correct');
    }

    window.onload = renderTasks;
</script>

</body>
</html>